---
title: 字符串
categories: 
- C
tags: 
- C
---

## 一、'\0'

### 1、'\0'和0
1. 本质，这二者同NULL一样，都是零值。

2. NULL是指针类型，即空指针。
通常定义：#define NULL (void*)0

3. 举例
```C
#include <stdio.h>
#include <stdlib.h>
int main() {
 
    char c1 = '\0';
    char c2 = 0;
    char c3 = '0';
    char c4 = '5';
 
    printf("%d %d\n", c1, c2);  // 两者等价
    printf("%d %d\n", c3, c4);  // 字符'0'、'5'对应的ASCII码值
 
    char arr1[] = {'h', 'a', '0'};
    char arr2[] = {'h', 'a', 0};
    printf("%d %d\n", sizeof(arr1), sizeof(arr2));     // 3 3
    
    system("pause");
    return 0;
}
```

<!--more-->

## 二、字符串
### 1、sizeof
1. sizeof是操作符，即它并不是函数，它的作用对象是数据类型。
因此，它作用于变量时，也是对其类型进行操作。得到的结果是该数据类型占用空间大小，即size_t类型。

2. 时间复杂度：O(1)

### 2、strlen
1. 定义在头文件：string.h中

2. size_t strlen(const char *str);计算字符串的长度，遇到'\0'就停止。

3. 时间复杂度：O(n)

### 3、字符串
1. 字符串是以'\0'结尾的字符数组。

2. printf("%s", str)或者strlen(str)的时候，若没有结束的'\0'。则会导致难以预料的错误。

### 4、举例-1
```C
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int main() {
 
    char str1[] = "hello";
    printf("%d %d\n", sizeof(str1), strlen(str1));       // 6 5
    char str2[] = {'h', 'e', 'l', 'l', 'o', '\0'};
    printf("%d %d\n", sizeof(str2), strlen(str2));       // 6 5
 
    char str3[10] = {'h', 'e', 'l', 'l', 'o', '\0'};
    printf("%d %d\n", sizeof(str3), strlen(str3));       // 10 5
 
    //char str4[5] = "hello";                            // 编译错误：initializer-string for array of chars is too long [-fpermissive]
    //printf("%d %d\n", sizeof(str4), strlen(str4));     // 10 5
 
    char str5[5] = {'h', 'e', 'l', 'l', 'o'};
    printf("%d %d\n", sizeof(str5), strlen(str5));       // 5 不确定数，因为在str5中没找到'\0'，一直往后找，直到遇到'\0'才停。
 
    char str6[] = "hel\0lo";
    printf("%d %d\n", sizeof(str6), strlen(str6));       // 7 3
 
    char str7[5] = {0};
    printf("%d %d\n", sizeof(str7), strlen(str7));       // 5 0
 
    strncpy(str7, "hello", 5);
    printf("%d %d\n", sizeof(str7), strlen(str7));       // 5 不确定数，因为在str7中没找到'\0'，一直往后找，直到遇到'\0'才停。
 
    system("pause");
    return 0;
}
```

### 5、举例-2
```C
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int main() {
 
    char str1[] = "";
    printf("%d %d\n", sizeof(str1), strlen(str1));       // 1 0 
 
    char str2[] = " ";
    printf("%d %d\n", sizeof(str2), strlen(str2));       // 2 1 
  
    char str3[] = "0";
    printf("%d %d\n", sizeof(str3), strlen(str3));       // 2 1 
 
    char str4[] = "\0";
    printf("%d %d\n", sizeof(str4), strlen(str4));       // 2 0 
    
    system("pause");
    return 0;
}
```

