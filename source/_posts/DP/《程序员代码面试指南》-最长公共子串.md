---
title: 《程序员代码面试指南》-最长公共子串
categories: 
- [Leetcode]
- [数据结构与算法]
tags: 
- Dynamic Programming
---

## 一、题意

### 0、题目链接
[《程序员代码面试指南》-最长公共子串](https://www.nowcoder.com/practice/210741385d37490c97446aa50874e62d?tpId=101&&tqId=33101&rp=1&ru=/ta/programmer-code-interview-guide&qru=/ta/programmer-code-interview-guide/question-ranking)

### 1、Description
【输入】
给定两个字符串s、t，长度分别为ns、nt；
【输出】
求s和t的最长公共子串；
LCs（Longest Common sub-string）；
若为空，输出-1；
【要求】
无；

### 2、Example
Input:
s: "1AB2345CD"
t: "12345EF"
Output: "2345"

<!-- more -->

### 3、Corner Case
1. 若ns == 0 || nt == 0，直接输出-1；

## 二、题解

### 0、思考
1. 经典问题LCs（最长公共子数组）：同Leetcode-718-Maximum Length of Repeated Subarray；

### 1、Solution-1：Dynamic Programming
1. Code
AC
时间复杂度：O(ns * nt)
空间复杂度：O(ns * nt)
```C++
#include <iostream>
#include <vector>
using namespace std;
 
int main() {
    string s;
    string t;
    // 注意 while 处理多个 case
    while (cin >> s >> t) { 
        int ns = s.size();
        int nt = t.size();
        if (ns == 0 || nt == 0) {
            cout << -1 << endl;
        }
        
        int maxLen = 0;
        int idx = -1;
        vector<vector<int>> dp(ns + 1, vector<int>(nt + 1, 0));
        for (int i = 1; i <= ns; i++) {
            for (int j = 1; j <= nt; j++) {
                if (s[i - 1] == t[j - 1]) {
                    dp[i][j] = 1 + dp[i - 1][j - 1];
                    if (dp[i][j] > maxLen) {
                        maxLen = dp[i][j];
                        idx = i - 1;
                    }
                }
            }
        }
        
        if (maxLen == 0) {
            cout << -1 << endl;
        } else {
            cout << s.substr(idx - maxLen + 1, maxLen) << endl;
        }
    }
    return 0;
}
```

2. 空间优化
* 二维空间降为一维空间；
* 选择min(ns, nt)作为一维空间长度；